<?php

/**
 * TaxonomyMetadataTable
 * 
 * This class has been auto-generated by the Doctrine ORM Framework
 */
class TaxonomyMetadataTable extends Doctrine_Table
{
    /**
     * Returns an instance of this class.
     *
     * @return object TaxonomyMetadataTable
     */
    public static function getInstance()
    {
        return Doctrine_Core::getTable('TaxonomyMetadata');
    }
    
  public static function getAllTaxonomicMetadata($orderBy='taxonomy_name ASC', $addAll=false, $addReferenceInformation=false)
  {
    $returned=Array();
    $q = Doctrine_Query::create()
      ->from('TaxonomyMetadata t')
      ->orderBy($orderBy);
    
    $res= $q->execute();
	if($addAll===TRUE)
	{
		$returned[''] = "All";
	}
    foreach($res as $row)
    {
      $name= $row->getTaxonomyName();
      if($addReferenceInformation and $row->getIsReferenceTaxonomy())
      {
        $name.=" (is reference)";
      }
      $returned[$row->getId()] = $name;
    }
    return $returned;
  }
}